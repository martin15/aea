<div class="col-md-12 content">
  <h2>User</h2>
  <div class="col-md-12">
    <p><%#= raw msg_flash(flash) %></p>
    <p>
      <%= link_to "Add new user", new_admin_user_path %>
    </p>
    <table class="table table-hover">
      <thead>
        <tr>
          <th>#</th>
          <th>Name</th>
          <th>Email</th>
          <th>User Type</th>
          <th>Country</th>
          <th>Status</th>
          <th>Approve At</th>
          <th>Reg Number</th>
          <th>&nbsp;</th>
        </tr>
      </thead>
      <tbody>
        <% @users.each_with_index do |user, x| %>
          <tr>
            <th scope="row"><%= @no+x+1 %></th>
            <td><%= user.full_name %></td>
            <td><%= user.email %></td>
            <td><%= user.try(:user_type).try(:name) %></td>
            <td><%= user.try(:country).try(:name) %></td>
            <td><%= user.status %></td>
            <td><%= user.approved_at.try(:strftime, "%d %b %Y - %H:%M") %></td>
            <td><%= user.registration_number %></td>
            <td>
              <% if user.status != 'Approved' %>
                <%= link_to "Confirm", admin_user_confirm_path(user), :class => "btn btn-default" %>
              <% end %>
              <%= link_to "Edit", edit_admin_user_path(user), :class => "btn btn-success" %>
              <%= link_to "Delete", admin_user_path(user.id ), :method => :delete,
                                    data: {:confirm => "Are you sure?"}, :class => "btn btn-warning" %>
            </td>
          </tr>
        <% end %>
      </tbody>
    </table>
    <div class="admin-row">
      <%= paginate @users, :link_separator => " | ",
                                 :previous_label => "&laquo; previous",
                                 :next_label => "next &raquo;" %>

    </div>
  </div>
</div>
